<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
      name="description"
      content="Khám phá và tìm kiếm tài liệu học tập, slide, giáo trình từ các trường đại học và học viện trên khắp Việt Nam. Chọn trường của bạn trên StuShare để bắt đầu."
    />
    <meta
      name="keywords"
      content="danh sách trường, đại học, học viện, tài liệu, UET, Bách Khoa, PTIT, StuShare"
    />
    <title>Danh Sách Các Trường - StuShare</title>
    <link
      rel="canonical"
      href="https://tcmanhh.github.io/truong-dai-hoc.html"
    />
    <meta property="og:title" content="Danh Sách Các Trường - StuShare" />
    <meta
      property="og:description"
      content="Khám phá và tìm kiếm tài liệu học tập từ các trường đại học và học viện trên khắp Việt Nam. Chọn trường của bạn để xem slide, giáo trình, đề thi và nhiều hơn nữa."
    />
    <meta property="og:type" content="website" />
    <meta
      property="og:url"
      content="https://tcmanhh.github.io/truong-dai-hoc.html"
    />
    <link rel="stylesheet" href="/style.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css"
    />
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "BreadcrumbList",
        "itemListElement": [
          {
            "@type": "ListItem",
            "position": 1,
            "name": "Trang chủ",
            "item": "https://tcmanhh.github.io/index.html"
          },
          {
            "@type": "ListItem",
            "position": 2,
            "name": "Tài Liệu Trường Đại học & Học viện"
          }
        ]
      }
    </script>
  </head>

  <body>
    <div id="header-placeholder"></div>

    <main>
      <section class="page-header">
        <div class="container">
          <h1>Khám Phá Tài Liệu Theo Trường</h1>
          <p>Chọn trường của bạn từ danh sách dưới đây để bắt đầu.</p>
        </div>
      </section>

      <section class="filter-bar">
        <div class="container">
          <input
            type="text"
            id="searchInput"
            placeholder="Tìm kiếm tên trường, ví dụ: Bách khoa, Công nghệ, PTIT..."
          />
        </div>
      </section>

      <section class="university-list">
        <div class="container">
          <h2 class="region-title">Các trường Đại học & Học viện ở Miền Bắc</h2>
          <div class="no-results-message" id="no-results-mb">
            Không tìm thấy trường nào phù hợp với từ khóa của bạn.
          </div>
          <div class="university-grid">
            <a href="/truong-dai-hoc/uet.html" class="university-card">
              <img
                src="https://upload.wikimedia.org/wikipedia/vi/thumb/b/bf/Logo_HUET.svg/186px-Logo_HUET.svg.png?20200610051238"
                alt="Logo trường"
                class="university-logo"
              />
              <div class="university-info">
                <h3>Trường Đại học Công nghệ - Đại học Quốc gia Hà Nội</h3>
                <p>VNU-UET</p>
              </div>
            </a>
          </div>

          <h2 class="region-title">
            Các trường Đại học & Học viện ở Miền Trung
          </h2>
          <div class="no-results-message" id="no-results-mt">
            Không tìm thấy trường nào phù hợp với từ khóa của bạn.
          </div>
          <div class="university-grid">
            <!-- Chưa có trường nào -->
          </div>

          <h2 class="region-title">Các trường Đại học & Học viện ở Miền Nam</h2>
          <div class="no-results-message" id="no-results-mn">
            Không tìm thấy trường nào phù hợp với từ khóa của bạn.
          </div>
          <div class="university-grid">
            <!-- Chưa có trường nào -->
          </div>

          <!-- Phần đang cập nhật và kêu gọi đóng góp (ĐÃ CẬP NHẬT) -->
          <div class="updating-section">
            <h3
              style="
                font-size: 1.35rem;
                color: var(--primary-color);
                margin-bottom: 12px;
              "
            >
              <i class="fas fa-spinner fa-pulse" style="margin-right: 8px"></i>
              Các trường khác đang được cập nhật!
            </h3>
            <p
              style="
                font-size: 1.05rem;
                color: #444;
                margin-bottom: 25px;
                max-width: 600px;
                margin-left: auto;
                margin-right: auto;
              "
            >
              Bạn có tài liệu học tập của trường mình? Hãy chung tay xây dựng
              một cộng đồng lớn mạnh hơn cho sinh viên Việt Nam!
            </p>
            <a href="/index.html#upload-section" class="btn-contribute">
              <i class="fas fa-upload" style="margin-right: 8px"></i> Đóng góp
              ngay
            </a>
          </div>
        </div>
      </section>
    </main>

    <div id="footer-placeholder"></div>

    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const searchInput = document.getElementById("searchInput");
        const universityGrids = document.querySelectorAll(".university-grid");
        const regionTitles = document.querySelectorAll(".region-title");
        const noResultsMessages = document.querySelectorAll(
          ".no-results-message"
        );

        // --- HÀM LỌC ĐƯỢỢC TÁCH RIÊNG ---
        function filterUniversities() {
          const searchTerm = searchInput.value.toLowerCase().trim();
          let hasVisibleCardOverall = false;

          universityGrids.forEach(function (grid, index) {
            const cardsInGrid = grid.querySelectorAll(".university-card");
            let hasVisibleCardInGrid = false;

            cardsInGrid.forEach(function (card) {
              const universityName = card
                .querySelector("h3")
                .textContent.toLowerCase();
              const universityAcronym = card
                .querySelector("p")
                .textContent.toLowerCase();

              const isVisible =
                universityName.includes(searchTerm) ||
                universityAcronym.includes(searchTerm);

              card.style.display = isVisible ? "flex" : "none";
              if (isVisible) {
                hasVisibleCardInGrid = true;
                hasVisibleCardOverall = true;
              }
            });

            const regionTitle = grid.previousElementSibling;
            const noResultMessage = noResultsMessages[index];

            if (regionTitle) {
              if (hasVisibleCardInGrid) {
                regionTitle.style.display = "none";
                if (noResultMessage) noResultMessage.style.display = "none";
              } else {
                // Chỉ ẩn tiêu đề và hiện thông báo nếu có tìm kiếm
                regionTitle.style.display = searchTerm ? "none" : "block";
                if (noResultMessage)
                  noResultMessage.style.display = searchTerm ? "block" : "none";
              }
            }
          });
        }

        // --- LOGIC MỚI: ĐỌC THAM SỐ TỪ URL ---
        const urlParams = new URLSearchParams(window.location.search);
        const searchQuery = urlParams.get("q");
        if (searchQuery) {
          searchInput.value = searchQuery; // Tự động điền vào ô tìm kiếm
          filterUniversities(); // Và thực hiện lọc ngay
        }

        searchInput.addEventListener("input", filterUniversities);
      });
    </script>

    <script src="/assets/js/layout.js"></script>
  </body>
</html>
